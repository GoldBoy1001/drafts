/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_fn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/fn.js */ \"./src/js/modules/fn.js\");\n/* harmony import */ var _modules_filter_products_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/filter-products.js */ \"./src/js/modules/filter-products.js\");\n/* harmony import */ var _modules_accordion_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/accordion.js */ \"./src/js/modules/accordion.js\");\n/* harmony import */ var _modules_renderCartItems_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/renderCartItems.js */ \"./src/js/modules/renderCartItems.js\");\n/* harmony import */ var _modules_renferFavoritesItems_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/renferFavoritesItems.js */ \"./src/js/modules/renferFavoritesItems.js\");\n/* harmony import */ var _modules_menu_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/menu.js */ \"./src/js/modules/menu.js\");\n/* harmony import */ var _modules_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/numberOfAdded.js */ \"./src/js/modules/numberOfAdded.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ================== Product Fetch ======================\r\nconst showMore = document.querySelector('.catalog__btn');\r\nconst basket = window.location.href.endsWith('basket.html');\r\nconst favourites = window.location.href.endsWith('favourites.html');\r\n\r\nif (!basket && !favourites) {\r\n\t(0,_modules_menu_js__WEBPACK_IMPORTED_MODULE_5__.menu)();\r\n\t\r\nconst productCard = new _modules_filter_products_js__WEBPACK_IMPORTED_MODULE_1__.ProductCard('.catalog__cards');\r\nproductCard.fetchData();\r\nshowMore.addEventListener('click', async (e) => {\r\n\te.preventDefault();\r\n\tlet isLoading = false;\r\n\tif (!isLoading) {\r\n\t  isLoading = true;\r\n \r\n\t  try {\r\n\t\t if (showMore.textContent === 'Все товары') {\r\n\t\t\tawait productCard.fetchData('');\r\n\t\t\tshowMore.textContent = 'Закрыть';\r\n\t\t } else {\r\n\t\t\t// Восстанавливаем исходный текст кнопки\r\n\t\t\tawait productCard.fetchData('12');\r\n\t\t\tshowMore.textContent = 'Все товары';\r\n\t\t }\r\n\t  } catch (error) {\r\n\t\t console.error('Error fetching data:', error);\r\n\t  } finally {\r\n\t\t isLoading = false;\r\n\t  }\r\n\t}\r\n });\r\n\r\n// =============== Swiper ====================\r\n\r\nlet mySwiper = new Swiper(\".my-swiper\", {\r\n  touchRatio: 0.5,\r\n  touchAngle: 45, \r\n  navigation: {\r\n    nextEl: \".swiper-button-next\",\r\n    prevEl: \".swiper-button-prev\",\r\n  },\r\n});\r\nlet swiperRight = new Swiper(\".swiper-right\", {\r\n    direction: \"vertical\",\r\n    slidesPerView: 2,\r\n    spaceBetween: 30,\r\n    touchRatio: 0.5,\r\n    touchAngle: 45,\r\n\t breakpoints: {\r\n\t\t// Добавьте разные параметры для разных размеров экрана\r\n\t\t320: {\r\n\t\t  spaceBetween: 15,\r\n\t\t},\r\n\t\t679: {\r\n\t\t  spaceBetween: 20,\r\n\t\t},\r\n\t\t859: {\r\n\t\t  spaceBetween: 30,\r\n\t\t},\r\n\t\t// Другие разрешения экрана и их параметры\r\n\t },\r\n  });\r\n\r\n  swiperRight.controller.control = mySwiper;\r\n  mySwiper.controller.control = swiperRight;\r\n\r\n// ============= Accordion ==============\r\n\r\n(0,_modules_accordion_js__WEBPACK_IMPORTED_MODULE_2__.Accordion)()\r\n}\r\n\r\n// ============= Cart ===============\r\n\r\nif (window.location.href.endsWith('basket.html')) {\r\n\r\n\t(0,_modules_renderCartItems_js__WEBPACK_IMPORTED_MODULE_3__.updateCart)()\r\n\tdocument.addEventListener('click', (event) => {\r\n\t\t// Находим ближайший родительский элемент .count__box\r\n\t\t const countBox = event.target.closest('.count');\r\n\t \r\n\t\t\t if (countBox) {\r\n\t\t\t\t // Находим связанные элементы\r\n\t\t\t\t const input = countBox.querySelector('.count__input');\r\n\t\t\t\t const productId = countBox.dataset.countId; // предполагаем, что у вашего .count элемента есть атрибут data-product-id, содержащий id продукта\r\n\t\t\t\t\r\n\t\t\t\t // Получаем текущее значение\r\n\t\t\t\t let quantity = parseInt(input.value);\r\n\t \r\n\t\t\t\t // Обработка клика на кнопку увеличения\r\n\t\t\t\t if (event.target.closest('.count__up')) {\r\n\t\t\t\t\t quantity += 1;\r\n\t\t\t\t }\r\n\t\t\t\t // Обработка клика на кнопку уменьшения\r\n\t\t\t\t else if (event.target.closest('.count__down')) {\r\n\t\t\t\t\t // Проверяем, чтобы не уйти в отрицательные значения\r\n\t\t\t\t\t if (quantity > 1) {\r\n\t\t\t\t\t quantity -= 1;\r\n\t\t\t\t\t }\r\n\t\t\t\t }\r\n\t \r\n\t\t\t\t // Обновляем значение input\r\n\t\t\t\t input.value = quantity;\r\n\t\t\t\t updateQuantityInLocalStorage(productId, quantity);\r\n\t\t\t\t // Дополнительные действия, если нужны\r\n\t\t\t }\r\n\t\t });\r\n\r\n\t\t function updateQuantityInLocalStorage(productId, newQuantity) {\r\n\t\t\tconst cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n\t\t\t\r\n\t\t\t// Находим индекс продукта в массиве по productId\r\n\t\t\tconst index = cartItems.findIndex(item => item.id === parseInt(productId));\r\n\t\t\t\r\n\t\t\t// Если продукт найден, обновляем значение quantity\r\n\t\t\tif (index !== -1) {\r\n\t\t\t  cartItems[index].quantity = newQuantity;\r\n\t\t\t  localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n\t\t\t  (0,_modules_renderCartItems_js__WEBPACK_IMPORTED_MODULE_3__.updateCart)()\r\n\t\t\t}\r\n\t\t }\r\n}\r\n\r\n// =================== Favourites ==========================\r\n\r\nif (window.location.href.endsWith('favourites.html')) {\r\n\t(0,_modules_renferFavoritesItems_js__WEBPACK_IMPORTED_MODULE_4__.updateFavourites)()\r\n}\r\n\r\n// ====================== Menu ======================\r\n(0,_modules_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_6__.numberOfCart)();\r\n(0,_modules_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_6__.numberOfFavorites)()\r\n\r\n\r\n_modules_fn_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp/./src/js/app.js?");

/***/ }),

/***/ "./src/js/modules/accordion.js":
/*!*************************************!*\
  !*** ./src/js/modules/accordion.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Accordion: () => (/* binding */ Accordion)\n/* harmony export */ });\nfunction Accordion() {\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tconst textContainer = document.querySelector('.assortment__text');\r\n\t\tconst readMoreBtn = document.querySelector('.read-more-btn');\r\n\t \r\n\t\treadMoreBtn.addEventListener('click', function () {\r\n\t\t  textContainer.classList.toggle('collapsed');\r\n\t\t  textContainer.classList.toggle('expanded');\r\n\t\t});\r\n\t });\r\n}\n\n//# sourceURL=webpack://gulp/./src/js/modules/accordion.js?");

/***/ }),

/***/ "./src/js/modules/filter-products.js":
/*!*******************************************!*\
  !*** ./src/js/modules/filter-products.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductCard: () => (/* binding */ ProductCard)\n/* harmony export */ });\n/* harmony import */ var _numberOfAdded_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./numberOfAdded.js */ \"./src/js/modules/numberOfAdded.js\");\n\r\nclass ProductCard {\r\n\tconstructor(containerSelector) {\r\n\t\tthis.container = document.querySelector(containerSelector);\r\n\t\tthis.defaultLimit = 12; // Устанавливаем значение по умолчанию\r\n\t}\r\n\t toggleCardExpansion() {\r\n\t\tthis.container.classList.toggle('visible');\r\n\t\t\r\n\t\t// Здесь можно добавить дополнительные действия, например, изменение текста кнопки\r\n\t }\r\n\r\n\tshowLoadingMessage() {\r\n\t\tthis.container.innerHTML = 'Loading...';\r\n\t}\r\n\r\n\tasync fetchData(limit = this.defaultLimit) {\r\n\t\ttry {\r\n\t\t\tthis.showLoadingMessage(); // Показываем сообщение о загрузке\r\n\r\n\t\t\t// Выполняем запрос к серверу (ваш API-URL здесь)\r\n\t\t\tconst response = await fetch(`https://fakestoreapi.com/products?limit=${limit}`);\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// Создаем карточки товаров на основе полученных данных\r\n\t\t\tthis.renderCards(data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error fetching data:', error);\r\n\t\t\tthis.container.innerHTML = 'Error fetching data';\r\n\t\t}\r\n\t}\r\n\r\n\trenderCards(products) {\r\n\t\tthis.container.innerHTML = ''; // Очищаем контейнер перед добавлением новых карточек\r\n\r\n\t\tproducts.forEach(product => {\r\n\t\t\tconst card = this.createCard(product);\r\n\t\t\tthis.container.appendChild(card);\r\n\t\t});\r\n\t}\r\n\r\n\tcreateCard(product) {\r\n\t\tconst cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n\t\tconst productId = product.id;\r\n  \t\tconst existingItem = cartItems.findIndex(item => item.id === productId);\r\n\t\tconst favouritesItems = JSON.parse(localStorage.getItem('favorites')) || [];\r\n  \t\tconst existingItemFavorites = favouritesItems.findIndex(item => item.id === productId);\r\n\t\tconst cardBody = document.createElement('div');\r\n      cardBody.className = 'card__body';\r\n\r\n\t\tconst card = document.createElement('div');\r\n\t\tcard.className = 'card';\r\n\t \r\n\t\tcard.addEventListener('click', () => {\r\n\t\t\tthis.toggleCardExpansion(card);\r\n\t\t });\r\n\r\n\t\tconst imageContainer = document.createElement('div');\r\n\t\timageContainer.className = 'card__image';\r\n\t \r\n\t\tconst image = document.createElement('img');\r\n\t\timage.className = 'card__img';\r\n\t\timage.src = product.image; // Замените на реальный путь к изображению\r\n\t\timage.alt = 'img';\r\n\t \r\n\t\tconst price = document.createElement('div');\r\n\t\tprice.className = 'card__price';\r\n\t\tprice.textContent = `${product.price} ₽`;\r\n\t\tconst favouritesImg = document.createElement('img');\r\n\t\tfavouritesImg.className = 'card__price-img';\r\n\t\tfavouritesImg.src = existingItemFavorites !== -1  ? './img/like-heart.svg' :  './img/heart-black-shape.svg';\r\n\t\tfavouritesImg.alt = 'heart';\r\n\r\n\t\tprice.appendChild(favouritesImg);\r\n\r\n\t\tfavouritesImg.addEventListener('click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tthis.addToFavorites(product);\r\n\t\t\t(0,_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_0__.numberOfFavorites)()\r\n\t\t\tfavouritesImg.src = this.isProductInFavorites(product) ? './img/like-heart.svg' : './img/heart-black-shape.svg';\r\n\t\t });\r\n\t\t \r\n\r\n\t\tconst rate = document.createElement('div');\r\n\t\trate.className = 'card__rate';\r\n\t\t\r\n\t\tconst rateNum = document.createElement('span');\r\n\t\trateNum.className = 'card__rate-num';\r\n\t\trateNum.textContent = product.rating.rate;\r\n\t \r\n\t\tconst starIcon = document.createElement('img');\r\n\t\tstarIcon.src = 'https://cdn-icons-png.flaticon.com/128/149/149763.png';\r\n\t\tstarIcon.alt = 'starfill';\r\n\t \r\n\t\tconst rateText = document.createElement('span');\r\n\t\trateText.className = 'card__rate-text';\r\n\t\trateText.textContent = '14 отзывов';\r\n\t \r\n\t\trate.appendChild(rateNum);\r\n\t\trate.appendChild(starIcon);\r\n\t\trate.appendChild(rateText);\r\n\t \r\n\t\tconst category = document.createElement('div');\r\n\t\tcategory.className = 'card__category';\r\n\t\tcategory.textContent = product.category; // Замените на реальную категорию\r\n\t \r\n\t\tconst description = document.createElement('p');\r\n\t\tdescription.className = 'card__descriptions';\r\n\t\tdescription.textContent = product.description;\r\n\t \r\n\t\tconst btn = document.createElement('span');\r\n\t\tbtn.className = 'card__btn';\r\n\t\tbtn.textContent = existingItem !== -1 ? 'Добавлен в корзину' : 'В корзину';\r\n\t\tbtn.addEventListener('click', (e) => {\r\n\t\t\t\te.target.textContent = 'Добавлен в корзину'\r\n\t\t})\r\n\t\tbtn.addEventListener('click', (event) => {\r\n\t\t\tevent.stopPropagation(); // Чтобы избежать всплытия события и вызова toggleCardExpansion\r\n\t\t\tthis.addToCart(product); // Вызываем метод для добавления товара в корзину\r\n\t\t\t(0,_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_0__.numberOfCart)()\r\n\t\t });\r\n\t \r\n\t\t// Собираем структуру карточки\r\n\t\timageContainer.appendChild(image);\r\n\t\tcard.appendChild(imageContainer);\r\n\t\tcard.appendChild(price);\r\n\t\tcard.appendChild(rate);\r\n\t\tcard.appendChild(category);\r\n\t\tcard.appendChild(description);\r\n\t\tcard.appendChild(btn);\r\n\t\tcardBody.appendChild(card);\r\n\t\treturn cardBody;\r\n\t }\r\n\r\n\t // Добавьте метод isProductInFavorites\r\n\t isProductInFavorites(product) {\r\n\t\tconst favorites = JSON.parse(localStorage.getItem('favorites')) || [];\r\n\t\tconst productId = product.id;\r\n\t\treturn favorites.some(item => item.id === productId);\r\n\t }\r\n\r\n\t toggleCardExpansion(clickedCard) {\r\n\t\tconst isVisible = clickedCard.classList.contains('visible');\r\n\t\tconst allCards = this.container.querySelectorAll('.card');\r\n\t \r\n\t\tallCards.forEach(card => {\r\n\t\t  card.classList.remove('visible');\r\n\t\t});\r\n\t \r\n\t\t// Добавляем/удаляем класс в зависимости от его наличия\r\n\t\tif (!isVisible) {\r\n\t\t  clickedCard.classList.add('visible');\r\n\t\t}\r\n\t }\r\n\r\n\taddToCart(product) {\r\n\t\tconst productId = product.id;\r\n\t\tconst cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n\r\n\t\tconst existingItem = cartItems.find(item => item.id === productId);\r\n\r\n\t\tif (existingItem) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tcartItems.push({ ...product, quantity: 1 });\r\n\t\t}\r\n\r\n\t\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n\t}\r\n\r\n\taddToFavorites(product) {\r\n\t\tconst favorites = JSON.parse(localStorage.getItem('favorites')) || [];\r\n\t\tconst productId = product.id;\r\n\t\tconst existingItemIndex = favorites.findIndex(item => item.id === productId);\r\n\t \r\n\t\tif (existingItemIndex !== -1) {\r\n\t\t  // Товар уже в избранном, удаляем его\r\n\t\t  favorites.splice(existingItemIndex, 1);\r\n\t\t} else {\r\n\t\t  // Товара нет в избранном, добавляем его\r\n\t\t  favorites.push(product);\r\n\t\t}\r\n\t\tlocalStorage.setItem('favorites', JSON.stringify(favorites));\r\n\t }\r\n\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack://gulp/./src/js/modules/filter-products.js?");

/***/ }),

/***/ "./src/js/modules/fn.js":
/*!******************************!*\
  !*** ./src/js/modules/fn.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isWebp: () => (/* binding */ isWebp)\n/* harmony export */ });\n\r\nfunction isWebp() {\r\n\tfunction testWebP(callback) {\r\n\r\n\t\tlet webP = new Image();\r\n\t\twebP.onload = webP.onerror = function () {\r\n\t\t\tcallback(webP.height == 2);\r\n\t\t};\r\n\t\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n\t}\r\n\r\n\ttestWebP(function (support) {\r\n\t\tlet className = support === true ? 'webp' : 'no-webp';\r\n\t\tdocument.documentElement.classList.add(className);\r\n\t});\r\n}\n\n//# sourceURL=webpack://gulp/./src/js/modules/fn.js?");

/***/ }),

/***/ "./src/js/modules/menu.js":
/*!********************************!*\
  !*** ./src/js/modules/menu.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   menu: () => (/* binding */ menu)\n/* harmony export */ });\nfunction menu() {\r\n\tmenuToogle();\r\n\tmenuActive();\r\n}\r\n\r\n\r\nfunction menuToogle() {\r\n\tconst menuList = document.querySelector('.menu-br__list');\r\n\tconst menuItem = document.querySelectorAll('.menu-br__item');\r\n\tmenuList.addEventListener('click', (e) => {\r\n\t\tif(e.target.closest('.menu-br__list')) {\r\n\t\t\tmenuItem.forEach(i => {\r\n\t\t\t\ti.classList.remove('active-menu')\r\n\t\t\t})\r\n\t\t\te.target.classList.add('active-menu')\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction menuActive() {\r\n\tconst burger = document.querySelector('.body__burger');\r\n\tconst menu = document.querySelector('.menu-br');\r\n\tconst slider = document.querySelector('.main__slider');\r\n   const swiperRightHtml = document.querySelector('.swiper-right');\r\n\tfunction handleWindowSize() {\r\n\t\tconst screenWidth = window.innerWidth;\r\n\t\t\r\n\t   if (screenWidth > 641) {\r\n\t\t  swiperRightHtml.style.display = \"grid\";\r\n\t\t} if (screenWidth < 641) {\r\n\t\t  swiperRightHtml.style.display = \"none\";\r\n\t\t} else {\r\n\t\t  if (!menu.classList.contains('menu-br-hidden')) {\r\n\t\t\t swiperRightHtml.style.display = \"none\";\r\n\t\t  } \r\n\t\t}\r\n\t }\r\n\t \r\n\t // Добавляем слушатель события resize\r\n\t window.addEventListener('resize', handleWindowSize);\r\n\t \r\n\t // Вызываем функцию при загрузке страницы\r\n\t handleWindowSize();\r\n  \r\n\t burger.addEventListener('click', e => {\r\n\t\tif (e.target.closest('.body__burger')) {\r\n\t\t  menu.classList.toggle('menu-br-hidden');\r\n\t\t  slider.classList.toggle('main__slider-togle');\r\n\t\t  if (window.innerWidth >= 641) {\r\n\t\t\t swiperRightHtml.style.display = menu.classList.contains('menu-br-hidden') ? \"grid\" : \"none\";\r\n\t\t  }\r\n\t\t}\r\n\t });\r\n}\r\n\r\n\n\n//# sourceURL=webpack://gulp/./src/js/modules/menu.js?");

/***/ }),

/***/ "./src/js/modules/numberOfAdded.js":
/*!*****************************************!*\
  !*** ./src/js/modules/numberOfAdded.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   numberOfAdded: () => (/* binding */ numberOfAdded),\n/* harmony export */   numberOfCart: () => (/* binding */ numberOfCart),\n/* harmony export */   numberOfFavorites: () => (/* binding */ numberOfFavorites)\n/* harmony export */ });\nfunction numberOfAdded() {\r\n\tnumberOfFavorites()\r\n\tnumberOfCart()\r\n}\r\n\r\nfunction numberOfFavorites() {\r\n\tconst num = document.querySelector('.favourites-num')\r\n\tconst cartItems = JSON.parse(localStorage.getItem('favorites')) || [];\r\n\tif(cartItems.length > 0) {\r\n\t\tnum.style.display = 'flex'\r\n\t\tnum.textContent = cartItems.length;\r\n\t} else {\r\n\t\tnum.style.display = 'none';\r\n\t}\r\n}\r\nfunction numberOfCart() {\r\n\tconst num = document.querySelector('.cart-num')\r\n\tconst cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n\tif(cartItems.length > 0) {\r\n\t\tnum.style.display = 'flex';\r\n\t\tnum.textContent = cartItems.length;\r\n\t} else {\r\n\t\tnum.style.display = 'none';\r\n\t}\r\n}\n\n//# sourceURL=webpack://gulp/./src/js/modules/numberOfAdded.js?");

/***/ }),

/***/ "./src/js/modules/renderCartItems.js":
/*!*******************************************!*\
  !*** ./src/js/modules/renderCartItems.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeFromCart: () => (/* binding */ removeFromCart),\n/* harmony export */   updateCart: () => (/* binding */ updateCart)\n/* harmony export */ });\n/* harmony import */ var _numberOfAdded_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./numberOfAdded.js */ \"./src/js/modules/numberOfAdded.js\");\n\r\n\r\nfunction renderCartItem(product) {\r\n\t// Создаем HTML-разметку для товара\r\n\tconst productHTML = `\r\n\t  <section class=\"product\">\r\n\t\t <div class=\"product__img\">\r\n\t\t\t<img src=\"${product.image}\" alt=\"${product.title}\">\r\n\t\t </div>\r\n\t\t <div class=\"product__title\">${product.title}</div>\r\n\t\t <div class=\"product__count\">\r\n\t\t\t<div class=\"count\" data-count-id=\"${product.id}\">\r\n\t\t\t  <div class=\"count__box\">\r\n\t\t\t\t <input type=\"number\" class=\"count__input\" min=\"1\" max=\"${product.rating.count}\" value=\"${product.quantity}\">\r\n\t\t\t  </div>\r\n\t\t\t  <div class=\"count__controls\">\r\n\t\t\t\t <button type=\"button\" class=\"count__up\">\r\n\t\t\t\t\t<img src=\"./img/icon-up.svg\" alt=\"Increase\">\r\n\t\t\t\t </button>\r\n\t\t\t\t <button type=\"button\" class=\"count__down\">\r\n\t\t\t\t\t<img src=\"./img/icon-down.svg\" alt=\"Decrease\">\r\n\t\t\t\t </button>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\t\t </div>\r\n\t\t <div class=\"product__price\">${product.price * product.quantity} $</div>\r\n\t\t <div class=\"product__controls\">\r\n\t\t\t<button type=\"button\" class=\"delete-button\" data-product-id=\"${product.id}\">\r\n\t\t\t  <img src=\"./img/cross.svg\" alt=\"Delete\">\r\n\t\t\t</button>\r\n\t\t </div>\r\n\t  </section>\r\n\t`;\r\n \r\n\treturn productHTML\r\n }\r\n\r\n function updateCartFooter(cartItems) {\r\n\tconst cartFooter = document.querySelector('.cart-footer');\r\n \r\n\tif (cartFooter) {\r\n\t\t// Ваш код для обновления подвала корзины, например:\r\n\t\tconst totalCount = cartItems.reduce((sum, item) => sum + item.quantity, 0);\r\n\t\tconst totalPrice = cartItems.reduce((sum, item) => sum + item.quantity * item.price, 0);\r\n\t\t\t// Пример обновления текста в подвале корзины\r\n\t\t\tcartFooter.querySelector('.cart-footer__count').textContent = `${totalCount} единиц`;\r\n\t\t\tcartFooter.querySelector('.cart-footer__price').textContent = `${totalPrice} $`;\r\n\t\t\r\n\t}\r\n\r\n }\r\n\r\n function updateCart() {\r\n\tconst cartContainer = document.querySelector('.cart');\r\n\tconst cartTitle = document.querySelector('.title-1')\r\n\tconst cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n\r\n\t// Находим контейнер товаров в корзине\r\n\tconst productsContainer =  cartContainer.querySelector('.cart-products');\r\n\r\n\t// Очищаем контейнер перед отрисовкой\r\n\tproductsContainer.innerHTML = '';\r\n\tif (cartItems.length === 0) {\r\n\t\tcartContainer.innerHTML = '';\r\n\t\tcartTitle.textContent = 'В корзине нет товаров'\r\n\t}\r\n\r\n\tproductsContainer.addEventListener('click', (e) => {\r\n\t\t// Проверяем, что клик был по кнопке удаления\r\n\t\tif (e.target.closest('.delete-button')) {\r\n\t\t  // Получаем id товара из data-атрибута\r\n\t\t  const productId = e.target.closest('.delete-button').dataset.productId;\r\n\t \r\n\t\t  // Вызываем функцию удаления из корзины\r\n\t\t  removeFromCart(productId);\r\n\t\t}\r\n\t });\r\n\r\n\t// Проходим по товарам в корзине и добавляем их в контейнер товаров\r\n\tcartItems.forEach(item => {\r\n\t  const productSection = renderCartItem(item);\r\n\t  productsContainer.insertAdjacentHTML('beforeend',productSection);\r\n\t});\r\n\t// После того, как все товары добавлены, обновляем подвал корзины (например, общее количество и стоимость)\r\n\tupdateCartFooter(cartItems);\r\n\t(0,_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_0__.numberOfCart)()\r\n}\r\n\r\n// Вызывайте эту функцию, когда нужно обновить корзину updateCart()\r\n\r\n// ==================================================\r\n\r\nfunction removeFromCart(productId) {\r\n\t// Получаем текущий массив товаров из localStorage\r\n\tconst cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n \r\n\t// Находим индекс товара в массиве по productId\r\n\tconst index = cartItems.findIndex(item => item.id === parseInt(productId));\r\n\r\n\t// Если товар найден, удаляем его из массива\r\n\tif (index !== -1) {\r\n\t  cartItems.splice(index, 1);\r\n \r\n\t  // Обновляем localStorage\r\n\t  localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n \r\n\t  // Обновляем отображение корзины\r\n\t  updateCart();\r\n\t}\r\n }\n\n//# sourceURL=webpack://gulp/./src/js/modules/renderCartItems.js?");

/***/ }),

/***/ "./src/js/modules/renferFavoritesItems.js":
/*!************************************************!*\
  !*** ./src/js/modules/renferFavoritesItems.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeFromCart: () => (/* binding */ removeFromCart),\n/* harmony export */   updateFavourites: () => (/* binding */ updateFavourites)\n/* harmony export */ });\n/* harmony import */ var _filter_products_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter-products.js */ \"./src/js/modules/filter-products.js\");\n/* harmony import */ var _numberOfAdded_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./numberOfAdded.js */ \"./src/js/modules/numberOfAdded.js\");\n\r\n\r\n\r\nconst addCart = new _filter_products_js__WEBPACK_IMPORTED_MODULE_0__.ProductCard('.catalog__cards')\r\n\r\nfunction renderFavoritestItem(product) {\r\n\t// Создаем HTML-разметку для товара\r\n\tconst productHTML = `\r\n\t<section class=\"favourites-product\">\r\n\t<div class=\"favourites-product__img\"><img src=\"${product.image}\" alt=\"Apple MacBook Air 13\"></div>\r\n\t<div class=\"favourites-product__title\">${product.title}</div>\r\n\t<div class=\"favourites-product__count\">\r\n\t${product.description}\r\n\t</div>\r\n\t<div class=\"favourites-product__price\">${product.price} $</div>\r\n\t<div class=\"favourites-product__controls\">\r\n\t\t <button type=\"favourites-button\"  class=\"delete-favourites\" data-product-id=\"${product.id}\">\r\n\t\t\t  <img src=\"./img/like-heart.svg\" alt=\"Delete\">\r\n\t\t </button>\r\n\t\t <button type=\"favourites-button\" class=\"add-cart\" data-product-id=\"${product.id}\">\r\n\t\t  <img src=\"./img/shop-cart.svg\" alt=\"Delete\">\r\n\t\t </button>\r\n\t</div>\r\n</section>\r\n\t`;\r\n \r\n\treturn productHTML\r\n }\r\n\r\n function updateFavourites() {\r\n\tconst favoritesContainer = document.querySelector('.favourites');\r\n\tconst favoritesTitle = document.querySelector('.title-2')\r\n\tconst favoritesItems = JSON.parse(localStorage.getItem('favorites')) || [];\r\n\r\n\t// Находим контейнер товаров в корзине\r\n\tconst productsContainer = favoritesContainer.querySelector('.favorites-cart-products');\r\n\r\n\t// Очищаем контейнер перед отрисовкой\r\n\tproductsContainer.innerHTML = '';\r\n\tif (favoritesItems.length === 0) {\r\n\t\tfavoritesContainer.innerHTML = '';\r\n\t\tfavoritesTitle.textContent = 'Пусто'\r\n\t}\r\n\r\n\tproductsContainer.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.add-cart')) {\r\n\t\t\t const productId = e.target.closest('.add-cart').dataset.productId;\r\n\t\t\t const product = getProductById(productId);\r\n          addCart.addToCart(product);\r\n\t\t\t removeFromCart(productId);\r\n\t\t\t updateFavourites();\r\n\t\t}\r\n  });\r\n\r\n\tproductsContainer.addEventListener('click', (e) => {\r\n\t\t// Проверяем, что клик был по кнопке удаления\r\n\t\tif (e.target.closest('.delete-favourites')) {\r\n\t\t  // Получаем id товара из data-атрибута\r\n\t\t  const productId = e.target.closest('.delete-favourites').dataset.productId;\r\n\t\t  // Вызываем функцию удаления из корзины\r\n\t\t  removeFromCart(productId);\r\n\t\t}\r\n\t });\r\n\r\n\t// Проходим по товарам в корзине и добавляем их в контейнер товаров\r\n\tfavoritesItems.forEach(item => {\r\n\t  const productSection = renderFavoritestItem(item);\r\n\t  productsContainer.insertAdjacentHTML('beforeend',productSection);\r\n\t});\r\n\t// После того, как все товары добавлены, обновляем подвал корзины (например, общее количество и стоимость)\r\n\t// updateCartFooter(cartItems);\r\n\t(0,_numberOfAdded_js__WEBPACK_IMPORTED_MODULE_1__.numberOfFavorites)()\r\n}\r\n\r\n// Вызывайте эту функцию, когда нужно обновить корзину updateCart()\r\n\r\n// ==================================================\r\n\r\nfunction removeFromCart(productId) {\r\n\t// Получаем текущий массив товаров из localStorage\r\n\tconst cartItems = JSON.parse(localStorage.getItem('favorites')) || [];\r\n \r\n\t// Находим индекс товара в массиве по productId\r\n\tconst index = cartItems.findIndex(item => item.id === parseInt(productId));\r\n\r\n\t// Если товар найден, удаляем его из массива\r\n\tif (index !== -1) {\r\n\t  cartItems.splice(index, 1);\r\n \r\n\t  // Обновляем localStorage\r\n\t  localStorage.setItem('favorites', JSON.stringify(cartItems));\r\n \r\n\t  // Обновляем отображение корзины\r\n\t  updateFavourites();\r\n\t}\r\n }\r\n\r\n function getProductById(productId) {\r\n\tconst products = JSON.parse(localStorage.getItem('favorites')) || [];\r\n\treturn products.find(product => product.id === parseInt(productId));\r\n}\n\n//# sourceURL=webpack://gulp/./src/js/modules/renferFavoritesItems.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;